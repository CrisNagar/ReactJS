{"ast":null,"code":"class Movements {\n  constructor() {\n    this.PAWN_OFFSETS = {\n      BLACK: [-15, -16, -17, -32],\n      WHITE: [15, 16, 17, 32]\n    };\n    this.PIECE_OFFSETS = {\n      N: [-18, -33, -31, -14, 18, 33, 31, 14],\n      B: [-17, -15, 17, 15],\n      R: [-16, 1, 16, -1],\n      Q: [-17, -16, -15, 1, 17, 16, 15, -1],\n      K: [-17, -16, -15, 1, 17, 16, 15, -1]\n    };\n    this.SQUARES = {\n      A8: 0,\n      B8: 1,\n      C8: 2,\n      D8: 3,\n      E8: 4,\n      F8: 5,\n      G8: 6,\n      H8: 7,\n      A7: 16,\n      B7: 17,\n      C7: 18,\n      D7: 19,\n      E7: 20,\n      F7: 21,\n      G7: 22,\n      H7: 23,\n      A6: 32,\n      B6: 33,\n      C6: 34,\n      D6: 35,\n      E6: 36,\n      F6: 37,\n      G6: 38,\n      H6: 39,\n      A5: 48,\n      B5: 49,\n      C5: 50,\n      D5: 51,\n      E5: 52,\n      F5: 53,\n      G5: 54,\n      H5: 55,\n      A4: 64,\n      B4: 65,\n      C4: 66,\n      D4: 67,\n      E4: 68,\n      F4: 69,\n      G4: 70,\n      H4: 71,\n      A3: 80,\n      B3: 81,\n      C3: 82,\n      D3: 83,\n      E3: 84,\n      F3: 85,\n      G3: 86,\n      H3: 87,\n      A2: 96,\n      B2: 97,\n      C2: 98,\n      D2: 99,\n      E2: 100,\n      F2: 101,\n      G2: 102,\n      H2: 103,\n      A1: 112,\n      B1: 113,\n      C1: 114,\n      D1: 115,\n      E1: 116,\n      F1: 117,\n      G1: 118,\n      H1: 119\n    };\n  }\n\n  /* \r\n    COMPROBAMOS QUE EL MOVIMIENTO QUE SE INTENTA ES VALIDO\r\n    PARAMETROS:\r\n    -JUGADOR ACTUAL\r\n    -TIPO DE FICHA\r\n    -CASILLA INICIAL\r\n    -CASILLA FINAL\r\n    */\n  checkMovement(player, piece, from, to) {\n    const offset = this.SQUARES[from] - this.SQUARES[to];\n\n    switch (piece) {\n      case \"P\":\n        const firstChildFrom = document.querySelector(`button[data-position=\"${from}\"]`).firstElementChild;\n        const firstChildTo = document.querySelector(`button[data-position=\"${to}\"]`).firstElementChild;\n        console.log(firstChildFrom);\n\n        for (let i = 0; i < this.PAWN_OFFSETS[player].length; i++) {\n          if (offset === this.PAWN_OFFSETS[player][i]) {\n            if (offset === 15 || offset === -15 || offset === 17 || offset === -17) {\n              if (firstChildFrom && firstChildTo) {\n                if (firstChildFrom.dataset.player === firstChildTo.dataset.player) {\n                  return false;\n                } else {\n                  this.checkAtack();\n                }\n              }\n\n              return firstChildTo ? true : false;\n            }\n\n            if (offset === 16 || offset === -16 || offset === 32 || offset === -32) {\n              if ((offset === 32 || offset === -32) && !firstChildFrom.dataset.start) {\n                firstChildFrom.dataset.start = false;\n                return false;\n              }\n\n              if ((offset === 32 || offset === -32) && firstChildFrom.dataset.start) {\n                const positionOffset = offset > 0 ? this.SQUARES[to] + 16 : this.SQUARES[to] - 16;\n                const position = Object.keys(this.SQUARES).find(key => this.SQUARES[key] === positionOffset);\n                return document.querySelector(`button[data-position=\"${position}\"]`).firstElementChild ? false : true;\n              }\n\n              return firstChildTo ? false : true;\n            }\n\n            return false;\n          }\n        }\n\n        break;\n\n      case \"R\":\n      case \"N\":\n      case \"B\":\n      case \"Q\":\n      case \"K\":\n      default:\n        return false;\n    }\n  }\n\n  checkAtack() {}\n  /*****************************************************************************\r\n   * UTILITY FUNCTIONS\r\n   ****************************************************************************/\n\n\n  rank(i) {\n    return i >> 4;\n  }\n\n}\n\nexport default Movements;","map":{"version":3,"sources":["C:/xampp/htdocs/React/chess/src/library/Movements.js"],"names":["Movements","PAWN_OFFSETS","BLACK","WHITE","PIECE_OFFSETS","N","B","R","Q","K","SQUARES","A8","B8","C8","D8","E8","F8","G8","H8","A7","B7","C7","D7","E7","F7","G7","H7","A6","B6","C6","D6","E6","F6","G6","H6","A5","B5","C5","D5","E5","F5","G5","H5","A4","B4","C4","D4","E4","F4","G4","H4","A3","B3","C3","D3","E3","F3","G3","H3","A2","B2","C2","D2","E2","F2","G2","H2","A1","B1","C1","D1","E1","F1","G1","H1","checkMovement","player","piece","from","to","offset","firstChildFrom","document","querySelector","firstElementChild","firstChildTo","console","log","i","length","dataset","checkAtack","start","positionOffset","position","Object","keys","find","key","rank"],"mappings":"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","sourcesContent":["class Movements {\r\n    PAWN_OFFSETS = {\r\n        BLACK: [-15, -16, -17, -32],\r\n        WHITE: [15, 16, 17, 32]\r\n    }\r\n\r\n    PIECE_OFFSETS = {\r\n        N: [-18, -33, -31, -14, 18, 33, 31, 14],\r\n        B: [-17, -15, 17, 15],\r\n        R: [-16, 1, 16, -1],\r\n        Q: [-17, -16, -15, 1, 17, 16, 15, -1],\r\n        K: [-17, -16, -15, 1, 17, 16, 15, -1]\r\n    }\r\n\r\n    SQUARES = {\r\n        A8: 0, B8: 1, C8: 2, D8: 3, E8: 4, F8: 5, G8: 6, H8: 7,\r\n        A7: 16, B7: 17, C7: 18, D7: 19, E7: 20, F7: 21, G7: 22, H7: 23,\r\n        A6: 32, B6: 33, C6: 34, D6: 35, E6: 36, F6: 37, G6: 38, H6: 39,\r\n        A5: 48, B5: 49, C5: 50, D5: 51, E5: 52, F5: 53, G5: 54, H5: 55,\r\n        A4: 64, B4: 65, C4: 66, D4: 67, E4: 68, F4: 69, G4: 70, H4: 71,\r\n        A3: 80, B3: 81, C3: 82, D3: 83, E3: 84, F3: 85, G3: 86, H3: 87,\r\n        A2: 96, B2: 97, C2: 98, D2: 99, E2: 100, F2: 101, G2: 102, H2: 103,\r\n        A1: 112, B1: 113, C1: 114, D1: 115, E1: 116, F1: 117, G1: 118, H1: 119\r\n    }\r\n\r\n    /* \r\n      COMPROBAMOS QUE EL MOVIMIENTO QUE SE INTENTA ES VALIDO\r\n      PARAMETROS:\r\n      -JUGADOR ACTUAL\r\n      -TIPO DE FICHA\r\n      -CASILLA INICIAL\r\n      -CASILLA FINAL\r\n      */\r\n    checkMovement(player, piece, from, to) {\r\n        const offset = this.SQUARES[from] - this.SQUARES[to]\r\n\r\n        switch (piece) {\r\n            case \"P\":\r\n                const firstChildFrom = document.querySelector(`button[data-position=\"${from}\"]`).firstElementChild\r\n                const firstChildTo = document.querySelector(`button[data-position=\"${to}\"]`).firstElementChild\r\n\r\n                console.log(firstChildFrom)\r\n                for (let i = 0; i < this.PAWN_OFFSETS[player].length; i++) {\r\n                    if (offset === this.PAWN_OFFSETS[player][i]) {\r\n                        if (offset === 15 || offset === -15 || offset === 17 || offset === -17) {\r\n                            if (firstChildFrom && firstChildTo) {\r\n                                if (firstChildFrom.dataset.player === firstChildTo.dataset.player) {\r\n                                    return false\r\n                                } else {\r\n                                    this.checkAtack()\r\n                                }\r\n                            }\r\n\r\n                            return firstChildTo ? true : false\r\n                        }\r\n\r\n                        if (offset === 16 || offset === -16 || offset === 32 || offset === -32) {\r\n                            if ((offset === 32 || offset === -32) && !firstChildFrom.dataset.start) {\r\n                                firstChildFrom.dataset.start = false\r\n                                return false\r\n                            }\r\n\r\n                            if ((offset === 32 || offset === -32) && firstChildFrom.dataset.start) {\r\n                                const positionOffset = offset > 0 ? this.SQUARES[to] + 16 : this.SQUARES[to] - 16\r\n                                const position = Object.keys(this.SQUARES).find((key) => this.SQUARES[key] === positionOffset)\r\n\r\n                                return document.querySelector(`button[data-position=\"${position}\"]`).firstElementChild ? false : true\r\n                            }\r\n\r\n                            return firstChildTo ? false : true\r\n                        }\r\n\r\n                        return false\r\n                    }\r\n                }\r\n                break\r\n            case \"R\":\r\n            case \"N\":\r\n            case \"B\":\r\n            case \"Q\":\r\n            case \"K\":\r\n            default: return false;\r\n        }\r\n    }\r\n\r\n    checkAtack() {\r\n\r\n    }\r\n\r\n    /*****************************************************************************\r\n     * UTILITY FUNCTIONS\r\n     ****************************************************************************/\r\n    rank(i) {\r\n        return i >> 4;\r\n    }\r\n}\r\n\r\nexport default Movements"]},"metadata":{},"sourceType":"module"}